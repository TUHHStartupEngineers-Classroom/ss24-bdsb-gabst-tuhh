{
  "hash": "88b6fc1587c4831f925035e356a7c52e",
  "result": {
    "markdown": "---\ntitle: \"Data Acquisition\"\nauthor: \"Gabriel Storch\"\n---\n\n# Task 1\n\nGetting some (50 observations)  weather data from openweatherapi. A table is printed and a scatterplot if temperature vs latitude is presented.\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-1_9474330778ada9f564a9614c51e0ab10'}\n\n```{.r .cell-code}\nlibrary(httr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'httr' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\nlibrary(glue)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'glue' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'tidyverse' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'ggplot2' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'tibble' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'tidyr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'readr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'purrr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'dplyr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'stringr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'forcats' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'lubridate' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.4     ✔ readr     2.1.5\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.1\n#> ✔ ggplot2   3.5.0     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n#> ✔ purrr     1.0.2     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-2_33e1b148b9011996ddc81304cd888777'}\n\n```{.r .cell-code}\n# loading api token from a local file\ntoken<- read.delim(\"my_openweatherapi_token.txt\") |> names()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning in read.table(file = file, header = header, sep = sep, quote = quote, :\n#> incomplete final line found by readTableHeader on 'my_openweatherapi_token.txt'\n```\n:::\n\n```{.r .cell-code}\n# defining column names and tibble frame\ncols <- c(\"lat\",\"lon\", \"city_name\", \"country\", \"weather_desc\", \"temperature_c\", \"wind_deg\")\n\ndata <- tibble(\n  lat = double(),\n  lon = double(),\n  city_name = character(),\n  country = character(),\n  weather_desc = character(),\n  temperature_c = double(),\n  wind_deg = double()\n)\n\n# getting weather for 50 random places from earth\nfor (i in 1:50) {\n  lat <- runif(1, min = -90, max = 90)\n  lon <- runif(1, min = -180, max = 180)\n  # making the url for each lat/lon and token\n  url <- glue(\"https://api.openweathermap.org/data/2.5/forecast?lat={lat}&lon={lon}&appid={token}&units=metric\")\n  # actual call to api\n  response <- GET(url)\n  # getting content from html\n  cnt <- content(response)\n  \n  # and storing the data in the data frame\n  data <- bind_rows(data, tibble(\n    lat = lat,\n    lon = lon,\n    city_name = cnt$city$name,\n    country = cnt$city$country,\n    weather_desc = cnt$list[[1]]$weather[[1]]$description,\n    temperature_c = cnt$list[[2]]$main$temp,\n    wind_deg = cnt$list[[2]]$wind$deg\n  ))\n}\n```\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-3_b12604b5b8074d286ca463160ae77d82'}\n\n```{.r .cell-code}\ndata\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"lat\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"lon\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"city_name\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"country\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weather_desc\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"temperature_c\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"wind_deg\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"57.5741507\",\"2\":\"-149.562445\",\"3\":\"\",\"4\":\"\",\"5\":\"broken clouds\",\"6\":\"4.99\",\"7\":\"89\"},{\"1\":\"-65.6814265\",\"2\":\"7.694683\",\"3\":\"\",\"4\":\"\",\"5\":\"overcast clouds\",\"6\":\"-4.20\",\"7\":\"33\"},{\"1\":\"-73.0491049\",\"2\":\"-86.719627\",\"3\":\"\",\"4\":\"\",\"5\":\"clear sky\",\"6\":\"-28.53\",\"7\":\"166\"},{\"1\":\"0.2901312\",\"2\":\"36.046012\",\"3\":\"Baringo\",\"4\":\"KE\",\"5\":\"overcast clouds\",\"6\":\"26.65\",\"7\":\"4\"},{\"1\":\"-87.5381176\",\"2\":\"-73.158092\",\"3\":\"\",\"4\":\"\",\"5\":\"overcast clouds\",\"6\":\"-45.63\",\"7\":\"121\"},{\"1\":\"14.8674097\",\"2\":\"86.302994\",\"3\":\"\",\"4\":\"\",\"5\":\"scattered clouds\",\"6\":\"28.53\",\"7\":\"226\"},{\"1\":\"-1.9795702\",\"2\":\"79.272440\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"28.39\",\"7\":\"136\"},{\"1\":\"57.5476649\",\"2\":\"10.566006\",\"3\":\"Strandby\",\"4\":\"DK\",\"5\":\"scattered clouds\",\"6\":\"2.72\",\"7\":\"36\"},{\"1\":\"34.9348103\",\"2\":\"35.169454\",\"3\":\"Arwād\",\"4\":\"SY\",\"5\":\"clear sky\",\"6\":\"19.00\",\"7\":\"65\"},{\"1\":\"-51.8315759\",\"2\":\"-29.880812\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"3.64\",\"7\":\"313\"},{\"1\":\"-55.0541579\",\"2\":\"-67.060387\",\"3\":\"Puerto Williams\",\"4\":\"CL\",\"5\":\"overcast clouds\",\"6\":\"4.41\",\"7\":\"304\"},{\"1\":\"-76.8989701\",\"2\":\"54.502450\",\"3\":\"\",\"4\":\"\",\"5\":\"scattered clouds\",\"6\":\"-57.77\",\"7\":\"220\"},{\"1\":\"-76.3661750\",\"2\":\"-179.259255\",\"3\":\"\",\"4\":\"\",\"5\":\"overcast clouds\",\"6\":\"-29.90\",\"7\":\"227\"},{\"1\":\"-65.6575897\",\"2\":\"-127.542633\",\"3\":\"\",\"4\":\"\",\"5\":\"light snow\",\"6\":\"0.49\",\"7\":\"297\"},{\"1\":\"-81.3375266\",\"2\":\"33.889803\",\"3\":\"\",\"4\":\"\",\"5\":\"scattered clouds\",\"6\":\"-58.98\",\"7\":\"28\"},{\"1\":\"-20.9046020\",\"2\":\"169.193232\",\"3\":\"Wacamadra\",\"4\":\"NC\",\"5\":\"light rain\",\"6\":\"26.02\",\"7\":\"141\"},{\"1\":\"69.5333592\",\"2\":\"59.731561\",\"3\":\"Varnek\",\"4\":\"RU\",\"5\":\"broken clouds\",\"6\":\"-7.51\",\"7\":\"359\"},{\"1\":\"-41.9617622\",\"2\":\"124.227623\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"10.00\",\"7\":\"219\"},{\"1\":\"22.9730912\",\"2\":\"31.693545\",\"3\":\"Abu Simbel\",\"4\":\"EG\",\"5\":\"clear sky\",\"6\":\"30.79\",\"7\":\"58\"},{\"1\":\"-71.7099512\",\"2\":\"71.604145\",\"3\":\"\",\"4\":\"\",\"5\":\"clear sky\",\"6\":\"-27.48\",\"7\":\"88\"},{\"1\":\"41.0868205\",\"2\":\"169.723332\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"8.55\",\"7\":\"9\"},{\"1\":\"-24.6621158\",\"2\":\"-22.405690\",\"3\":\"\",\"4\":\"\",\"5\":\"clear sky\",\"6\":\"23.11\",\"7\":\"117\"},{\"1\":\"67.0828740\",\"2\":\"-73.460803\",\"3\":\"\",\"4\":\"\",\"5\":\"light snow\",\"6\":\"-17.80\",\"7\":\"187\"},{\"1\":\"-17.4010524\",\"2\":\"-12.243210\",\"3\":\"\",\"4\":\"\",\"5\":\"broken clouds\",\"6\":\"24.14\",\"7\":\"130\"},{\"1\":\"-11.2794223\",\"2\":\"118.525940\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"28.44\",\"7\":\"113\"},{\"1\":\"-2.3326822\",\"2\":\"8.672835\",\"3\":\"Ogooué-Maritime Province\",\"4\":\"GA\",\"5\":\"overcast clouds\",\"6\":\"28.99\",\"7\":\"135\"},{\"1\":\"-34.8459822\",\"2\":\"-12.247263\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"18.78\",\"7\":\"251\"},{\"1\":\"-29.6526705\",\"2\":\"-135.420888\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"20.93\",\"7\":\"75\"},{\"1\":\"8.9174555\",\"2\":\"175.853909\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"27.84\",\"7\":\"67\"},{\"1\":\"27.9841584\",\"2\":\"72.896250\",\"3\":\"Bikaner\",\"4\":\"IN\",\"5\":\"scattered clouds\",\"6\":\"34.41\",\"7\":\"258\"},{\"1\":\"3.2942674\",\"2\":\"92.796130\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"29.31\",\"7\":\"307\"},{\"1\":\"52.2424792\",\"2\":\"-21.723196\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"11.48\",\"7\":\"136\"},{\"1\":\"-86.7103674\",\"2\":\"-28.886818\",\"3\":\"\",\"4\":\"\",\"5\":\"clear sky\",\"6\":\"-46.62\",\"7\":\"89\"},{\"1\":\"-64.5977735\",\"2\":\"130.122941\",\"3\":\"\",\"4\":\"\",\"5\":\"light snow\",\"6\":\"-13.08\",\"7\":\"161\"},{\"1\":\"76.8119621\",\"2\":\"27.076584\",\"3\":\"\",\"4\":\"\",\"5\":\"overcast clouds\",\"6\":\"-0.02\",\"7\":\"200\"},{\"1\":\"6.6616177\",\"2\":\"112.742209\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"29.10\",\"7\":\"71\"},{\"1\":\"-34.5281461\",\"2\":\"-13.298663\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"18.83\",\"7\":\"241\"},{\"1\":\"-20.7467264\",\"2\":\"29.051159\",\"3\":\"Gwanda\",\"4\":\"ZW\",\"5\":\"clear sky\",\"6\":\"22.25\",\"7\":\"76\"},{\"1\":\"89.7500897\",\"2\":\"-91.771060\",\"3\":\"\",\"4\":\"\",\"5\":\"light snow\",\"6\":\"-8.19\",\"7\":\"119\"},{\"1\":\"36.2213903\",\"2\":\"118.647903\",\"3\":\"Linqu\",\"4\":\"CN\",\"5\":\"scattered clouds\",\"6\":\"25.48\",\"7\":\"123\"},{\"1\":\"-47.5815322\",\"2\":\"-29.869935\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"7.69\",\"7\":\"257\"},{\"1\":\"-54.1235222\",\"2\":\"-161.533285\",\"3\":\"\",\"4\":\"\",\"5\":\"overcast clouds\",\"6\":\"8.80\",\"7\":\"19\"},{\"1\":\"-4.9192361\",\"2\":\"53.731908\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"29.35\",\"7\":\"117\"},{\"1\":\"57.6178061\",\"2\":\"99.907717\",\"3\":\"Kodinsk\",\"4\":\"RU\",\"5\":\"overcast clouds\",\"6\":\"2.40\",\"7\":\"150\"},{\"1\":\"-26.0019299\",\"2\":\"-43.897642\",\"3\":\"\",\"4\":\"\",\"5\":\"clear sky\",\"6\":\"24.24\",\"7\":\"12\"},{\"1\":\"18.8674379\",\"2\":\"-88.611389\",\"3\":\"Bacalar\",\"4\":\"MX\",\"5\":\"clear sky\",\"6\":\"21.81\",\"7\":\"356\"},{\"1\":\"20.8102934\",\"2\":\"-168.403947\",\"3\":\"\",\"4\":\"\",\"5\":\"few clouds\",\"6\":\"24.18\",\"7\":\"81\"},{\"1\":\"-0.2272774\",\"2\":\"73.472948\",\"3\":\"Meedhoo\",\"4\":\"MV\",\"5\":\"broken clouds\",\"6\":\"29.52\",\"7\":\"95\"},{\"1\":\"-86.0177482\",\"2\":\"-135.622599\",\"3\":\"\",\"4\":\"\",\"5\":\"overcast clouds\",\"6\":\"-37.02\",\"7\":\"157\"},{\"1\":\"-8.6301670\",\"2\":\"132.898466\",\"3\":\"\",\"4\":\"\",\"5\":\"light rain\",\"6\":\"28.51\",\"7\":\"149\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/plot_bec0c112ea13c48b7e1b9361a72c7a5b'}\n\n```{.r .cell-code}\nggplot(data, aes(x = abs(lat), y = temperature_c)) + # taking abs lat because we are interested in distance from ecuator\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE) + # to check for correlation\n  labs(x = \"Absolute Latitude\", y = \"Temperature (C)\",\n       title = \"Plot of Absolute Latitude vs Temperature\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> `geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](02_data_acquisition_files/figure-html/plot-1.png){width=672}\n:::\n:::\n\n\n# Task 2\n\nWe are going to scrape radon-bikes.de. For this we first load libraries,\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-4_63a7fffcfdd542b428820538b497572f'}\n\n```{.r .cell-code}\nlibrary(rvest)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'rvest' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'rvest'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following object is masked from 'package:readr':\n#> \n#>     guess_encoding\n```\n:::\n\n```{.r .cell-code}\nlibrary(RSQLite)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'RSQLite' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\nlibrary(DBI)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'DBI' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\nlibrary(xopen) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: package 'xopen' was built under R version 4.2.3\n```\n:::\n:::\n\n\n... then define a function to get all bike urls..\n \n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-5_6bcd105c35a5300e3dd26f8eb58985a5'}\n\n```{.r .cell-code}\nget_bike_urls <- function() {\n  url_home <- \"https://www.radon-bikes.de\"\n\n  html_home <- read_html(url_home)\n\n  # getting the links for the categories\n\n  bike_categories <- html_home |>  html_elements(css=\"li.has-dropdown.js-dropdown > ul > li > div > a\") |> html_attr(\"href\") |> \n  str_subset(pattern = \"wear\", negate = T) |>\n  str_c(url_home, ... = _)\n  \n  bike_urls <- list()\n  \n  for (url in bike_categories) {\n    bike_url <- read_html(url) |> html_elements(css=\"div.row.columns.serienSlider > div.mod > div.js-slider-container > div > div.o-slick-slider__slide-content > div.row > a.a-button\") |> html_attr(\"href\") |>   str_c(url_home, ... = _)\n    \n    bike_urls <- append(bike_urls, bike_url)\n  }\n  return (bike_urls)\n}\n```\n:::\n\n\nand a function to parse an individual bike:\n\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-6_2ec6c32fab27c1966054257face7b0a2'}\n\n```{.r .cell-code}\nget_bike_data <- function(url) {\n  bike_price <- read_html(url) |>\n  html_element(css = \"span.m-bikedetail__price--active\") |>\n  html_text() |>\n  parse_number() |>\n  as.numeric()\n  \n  # check for reasonable prices\n  if (bike_price < 0 || bike_price > 10000) {\n    bike_price <- NaN\n  }\n  \n  bike_model <- read_html(url) |> \n  html_elements(css = \"h1.a-heading.a-heading--medium\") |> \n  html_text() |> \n  str_squish() # Clean\n  \n  bike_data <- tibble(url   = url,\n                      model = bike_model,\n                      price = bike_price)\n\n  return(bike_data)\n}\n```\n:::\n\n\nLast, we scrape the entire website, store the results in a tibble table and\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-7_5ffbd5d55131a052db4eaa80a794fc54'}\n\n```{.r .cell-code}\nurls <- get_bike_urls()\n\nmy_data <- tibble(\n  url = character(),\n  model = character(),\n  price = double()\n)\n\nfor (bike_url in urls) {\n  bike_data <- get_bike_data(bike_url)\n  my_data <- bind_rows(my_data, bike_data)\n}\n\nhead(my_data, 10)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"url\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"model\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"price\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous/jealous-80-2024/\",\"2\":\"JEALOUS 8.0\",\"3\":\"2999\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous/jealous-90-2024/\",\"2\":\"JEALOUS 9.0\",\"3\":\"3399\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous/jealous-100-ea-2024/\",\"2\":\"JEALOUS 10.0 EA\",\"3\":\"5499\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous/jealous-80-2023/\",\"2\":\"JEALOUS 8.0\",\"3\":\"2199\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous/jealous-90-2023/\",\"2\":\"JEALOUS 9.0\",\"3\":\"2599\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous/jealous-100-2023/\",\"2\":\"JEALOUS 10.0\",\"3\":\"3299\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous/jealous-100-ea-2023/\",\"2\":\"JEALOUS 10.0 EA\",\"3\":\"4499\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous-al/jealous-al-60-2024/\",\"2\":\"JEALOUS AL 6.0\",\"3\":\"999\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous-al/jealous-al-60-2024-petroleumblue/\",\"2\":\"JEALOUS AL 6.0\",\"3\":\"999\"},{\"1\":\"https://www.radon-bikes.de/mountainbike/hardtail/jealous-al/jealous-al-70-2024/\",\"2\":\"JEALOUS AL 7.0\",\"3\":\"999\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nPut the resulting table into a sqlite db.\n\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-8_7a43dc3a68afbb649db975d24e52cd00'}\n\n```{.r .cell-code}\n# want to store data in content/data\nsetwd(\"..\")\n# connect to file\ncon<-dbConnect(drv=SQLite(), dbname = \"data/radon_bikes.sqlite\")\n# create table\ncreate_table_query <- \"\nCREATE TABLE IF NOT EXISTS radon_bikes (\n    url TEXT,\n    model TEXT,\n    price INTEGER\n);\n\"\n\ndbExecute(con, create_table_query)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] 0\n```\n:::\n\n```{.r .cell-code}\n# use dbi to write tibble to database - we do not want to duplicate the entire db!\nif (FALSE) {\n  dbWriteTable(con, \"radon_bikes\", my_data, append = TRUE)\n}\n# check whether everything worked\nresult <- dbGetQuery(con, \"SELECT * FROM radon_bikes\")\n# looks good\nglimpse(result)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Rows: 139\n#> Columns: 3\n#> $ url   <chr> \"https://www.radon-bikes.de/mountainbike/hardtail/jealous/jealou…\n#> $ model <chr> \"JEALOUS 8.0\", \"JEALOUS 9.0\", \"JEALOUS 10.0 EA\", \"JEALOUS 8.0\", …\n#> $ price <dbl> 2999, 3399, 5499, 2199, 2599, 3299, 4499, 999, 999, 999, 999, 11…\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}